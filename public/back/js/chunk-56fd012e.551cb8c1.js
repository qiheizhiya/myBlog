(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56fd012e"],{3220:function(e,t,a){"use strict";var r=a("ec79"),s=a.n(r);s.a},8930:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.mainUrl+"/ossUpload",disabled:1!==e.userInfo.id,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1),a("el-form-item",{attrs:{label:"座右铭"}},[a("el-input",{model:{value:e.form.motto,callback:function(t){e.$set(e.form,"motto",t)},expression:"form.motto"}})],1),1===e.userInfo.id?a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1):e._e()],1)],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title flex align-center"},[a("div",{staticClass:"flex align-center"},[a("span"),e._v("个人信息设置")])])}],o=a("5530"),i=a("c24f"),l=a("2f62"),n={computed:Object(l["c"])(["userInfo"]),data:function(){return{imageUrl:"",form:{userName:"",birthday:"",motto:"",avatar:"",id:""}}},watch:{userInfo:{immediate:!0,handler:function(e){for(var t in this.form)e[t]&&(this.form[t]=e[t])}}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["setUserInfo"])),{},{handleAvatarSuccess:function(e,t){console.log(e.data),this.form.avatar=e.data,this.$message.success("图片上传成功")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 或者 PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},onSubmit:function(){var e=this;Object(i["c"])(this.form).then((function(t){e.$message.success(t.data.msg),e.setUserInfo(t.data.data)}))}})},c=n,m=(a("3220"),a("2877")),f=Object(m["a"])(c,r,s,!1,null,"5227ae7a",null);t["default"]=f.exports},ec79:function(e,t,a){}}]);